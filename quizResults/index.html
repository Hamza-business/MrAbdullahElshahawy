<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <title>منصة مستر عبدالله الشهاوي</title>

    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="theme-color" content="#8e44ad">
    <meta name="description" content="منصة مستر عبدالله الشهاوي هي منصة تقدم لك شرح منظّم ودقيق مع سهولة الوصول لما تحتاجه.">
    <meta name="keywords" content="منصة مستر عبدالله الشهاوي, منصة, عبدالله الشهاوي, عربي, اللغة العربية, التعليم الثانوي, الثانوي, عربي ثانوية عامة, مستر عبدالله الشهاوي, المداد, منصة المداد التعليمية, ثانوية عامة, مصر">
    <meta name="author" content="Mr Abdullah Elshahawy">
    
    <link rel="icon" href="/assets/images/logo/navlogo.png">
    <link rel='stylesheet' type='text/css' href='/assets/style/all.min.css'>
    <link rel='stylesheet' type='text/css' href='/assets/style/bulma-rtl.css'>
    <link rel='stylesheet' type='text/css' href='/assets/style/main.css'>
</head>

<body>


    <div style="display: none" id="pageTitle"></div>
    <header class="navbar" role="navigation" aria-label="main navigation" class="linksMenu">
        <div class="navbar-brand">
            <a class="navbar-item logo" href="/">
                <img src="/assets/images/logo/navlogo.png">
            </a>
            <button class="navbar-burger" aria-label="menu" onclick="navshow()" wfd-invisible="true">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
    
        <div id="navbarElements" class="navbar-menu navbarElements">
            <div class="navbar-start">
                <a href="/" whtpg="home" class="navbar-item"><i class="fas fa-home"></i><span>الرئيسية</span></a>
                <a href="/learn" whtpg="learn" class="navbar-item"><i class="fa-solid fa-tv"></i><span>المحاضرات</span></a>
                <a href="/books" whtpg="sheets" class="navbar-item"><i class="fa-solid fa-book"></i><span>الكتب</span></a>
            </div>
    
            <div class="navbar-end">
                <button class="button none navbar-item responsivePadd" showPop="notifications"><i class="fa-solid fa-bell"></i></button>
                <a class="navbar-item" whtpg="dashboard" href="/dashboard"><i class="fas fa-user-circle"></i></a>
                <div class="navbar-item">
                    <a href="/login" class="button is-purple70 is-outlined borderBold textBold"><i class="fa-regular fa-user"></i> الدخول \ الانضمام</a>
                </div>
            </div>
        </div>
    </header>
    

    <div class="smallNav is-flex is-justify-content-space-between is-align-items-center section">
        <p class="is-size-6 has-text-weight-medium">نتائج اختبار الماضرة الاولى ستاتيكا</p>
        <a href="/learn/" class="arrow"><i class="fa-solid fa-chevron-left"></i></a>
    </div>

    <div class="contentBox">
        <section class="quizs cvf section">
            <div class="columns is-multiline quizCont quizAnswerCont">
                <div class="column is-2 allAns">
                    <div class="burgerIcon">
                        <i class="fas fa-stream"></i>
                    </div>
                    <div class="answers hide ques" id="queSideBar">
                    </div>
                </div>

                <form class="column ask">
                    <div class="is-flex is-flex-direction-row is-justify-content-space-between ">
                        <span class="tag is-prpl is-small"><span class="point" id="point">1</span> درجة</span>
                        <span class="percenta">تم اجابة  <sup><span class="has-text-yellow90 answerdNum" id="trueAnswed"></span></sup>/<sub><span class="has-text-purple50 questionNum" id="allQues"></span></sub> بشكل صحيح</span>
                        <span class="has-text-weight-medium is-size-4 qnum"><span class="queue">1</span>/<span class="maxera" id="allQuesCount"></span></span>
                    </div>

                    <div class="quesHolderParent" id="quesHolderParent">
                        
                    </div>

                    <div class="is-flex is-justify-content-space-between controler buttonato">
                        <button class="button is-purple50 prev" disabled="true"><i class="fa-solid fa-chevron-right"></i> اجابة السؤال السابق</button>
                        <button class="button is-purple50 next">اجابة السؤال التالي <i class="fa-solid fa-chevron-left"></i></button>
                    </div>
                </form>
            </div>
        </section>        
    </div>


</body>
</html>
<script src='/assets/js/main.js'></script>


<script>
    let tempJSONrequest = [
        {
            "id":{
                "$oid":"630de0828179f6bc4a3388fb"
            },
            "year":3,
            "title":"اختر ",
            "lessonName":"علامات الإعراب الأصلية والفرعية ",
            "degree":2,
            "isPhoto":false,
            "question":"<p class=\"MsoListParagraph\" dir=\"RTL\" style=\"mso-add-space: auto; text-align: right; text-indent: -18.0pt; line-height: normal; mso-list: l0 level1 lfo1; direction: rtl; unicode-bidi: embed; margin: 0cm 18.0pt 0cm 0cm;\"><strong><span style=\"font-size: 15.0pt; font-family: 'hala-jamil fonts'; mso-fareast-font-family: 'hala-jamil fonts'; color: #c00000; mso-bidi-language: AR-EG;\"><span style=\"mso-list: Ignore;\"><span style=\"font-style: normal; font-variant: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: 'Times New Roman';\">&nbsp;</span></span></span><!--[endif]--><span lang=\"AR-EG\" style=\"font-size: 15.0pt; font-family: 'SKR HEAD1'; color: #c00000; mso-bidi-language: AR-EG;\">جملة واحدة مما يلي صحيحة الضبط : </span></strong></p>",
            "choices":[
                {
                    "isRight":false,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388fc"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتٍ عديدةٍ في مواقفٍ عديدةً"
                },
                {
                    "isRight":false,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388fd"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتًا عديدةٍ في مواقفَ عديدةٍ"
                },
                {
                    "isRight":true,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388fe"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتٍ عديدةً في مواقفَ عديدةٍ"
                },
                {
                    "isRight":false,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388ff"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتٍ عديدةٍ في مواقفَ عديدةٍ"
                }
            ],
            "serial":561,"_v":0, 
            "student_answer": 2
        },
        {
            "id":{
                "$oid":"630de0828179f6bc4a3388fb"
            },
            "year":3,
            "title":"اختر ",
            "lessonName":"علامات الإعراب الأصلية والفرعية ",
            "degree":3,
            "isPhoto":true,
            "question":"http://127.0.0.1:5500/assets/images/logo.png",
            "choices":[
                {
                    "isRight":false,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388fc"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتٍ عديدةٍ في مواقفٍ عديدةً"
                },
                {
                    "isRight":false,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388fd"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتًا عديدةٍ في مواقفَ عديدةٍ"
                },
                {
                    "isRight":true,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388fe"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتٍ عديدةً في مواقفَ عديدةٍ"
                },
                {
                    "isRight":false,
                    "_id":{
                        "$oid":"630de0828179f6bc4a3388ff"
                    },
                    "choice_text":"يواجه شبابُنا مشكلاتٍ عديدةٍ في مواقفَ عديدةٍ"
                }
            ],
            "serial":561,"_v":0, 
            "student_answer": 3
        },
        {
    id: { $oid: "630de0828179f6bc4a3388fb" },
    year: 3,
    title: "اختر",
    lessonName: "علامات الإعراب الأصلية والفرعية",
    degree: 2,
    isPhoto: false,
    question: "<p class=\"MsoListParagraph\" dir=\"RTL\" style=\"mso-add-space: auto; text-align: right; text-indent: -18.0pt; line-height: normal; mso-list: l0 level1 lfo1; direction: rtl; unicode-bidi: embed; margin: 0cm 18.0pt 0cm 0cm;\"><strong><span style=\"font-size: 15.0pt; font-family: 'hala-jamil fonts'; mso-fareast-font-family: 'hala-jamil fonts'; color: #c00000; mso-bidi-language: AR-EG;\"><span style=\"mso-list: Ignore;\"><span style=\"font-style: normal; font-variant: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: 'Times New Roman';\">&nbsp;</span></span></span><!--[endif]--><span lang=\"AR-EG\" style=\"font-size: 15.0pt; font-family: 'SKR HEAD1'; color: #c00000; mso-bidi-language: AR-EG;\">جملة واحدة مما يلي صحيحة الضبط :</span></strong></p>",
    choices: [
      {
        isRight: false,
        _id: { $oid: "630de0828179f6bc4a3388fc" },
        choice_text: "Choice 1 for object 1",
      },
      {
        isRight: false,
        _id: { $oid: "630de0828179f6bc4a3388fd" },
        choice_text: "Choice 2 for object 1",
      },
      {
        isRight: true,
        _id: { $oid: "630de0828179f6bc4a3388fe" },
        choice_text: "Choice 3 for object 1",
      },
      {
        isRight: false,
        _id: { $oid: "630de0828179f6bc4a3388ff" },
        choice_text: "Choice 4 for object 1",
      },
    ],
    serial: 561,
    _v: 0,
    student_answer: 2,
  },
  {
    id: { $oid: "630de0828179f6bc4a3388fb" },
    year: 3,
    title: "اختر",
    lessonName: "علامات الإعراب الأصلية والفرعية",
    degree: 3,
    isPhoto: true,
    question: "http://example.com/image2.png",
    choices: [
      {
        isRight: false,
        _id: { $oid: "630de0828179f6bc4a3388fc" },
        choice_text: "Choice 1 for object 2",
      },
      {
        isRight: false,
        _id: { $oid: "630de0828179f6bc4a3388fd" },
        choice_text: "Choice 2 for object 2",
      },
      {
        isRight: true,
        _id: { $oid: "630de0828179f6bc4a3388fe" },
        choice_text: "Choice 3 for object 2",
      },
      {
        isRight: false,
        _id: { $oid: "630de0828179f6bc4a3388ff" },
        choice_text: "Choice 4 for object 2",
      },
    ],
    serial: 561,
    _v: 0,
    student_answer: 3,
  }
    ];
        

    let point = document.querySelector("#point");
    let trueAnswed = document.querySelector("#trueAnswed");
    let allQues = document.querySelector("#allQues");
    let allQuesCount = document.querySelector("#allQuesCount");
    let queSideBar = document.querySelector("#queSideBar");
    let quesHolderParent = document.querySelector("#quesHolderParent");
    function loopQuestionAnswersPushHTML(){
        tempJSONrequest.forEach((question, i)=>{
            // ############################ Add Question Data to quesHolderParent
            let questionPar = document.createElement("div");
            questionPar.classList.add("questionHolder", "hide");

            let queTit = document.createElement("h2");
            queTit.classList.add("title", "is-size-4");
            queTit.textContent = question["title"]
            questionPar.append(queTit);


            if(question["isPhoto"]){
                let img = document.createElement("img");
                img.src = question["question"];
                questionPar.append(img);
            }else{
                let queP = document.createElement("p");
                queP.classList.add("subtitle", "is-size-5", "paragraph");
                queP.innerHTML = question["question"];
                questionPar.append(queP);
            }

            let choicesPar = document.createElement("div");
            choicesPar.classList.add("field", "control", "is-flex", "is-flex-direction-column");
            questionPar.append(choicesPar);

            quesHolderParent.append(questionPar);


            // ############################ Get The right Answer and generate choices:
            let trueChoice = null;
            let choosedChoice = question["student_answer"];
            question.choices.forEach((answer, ansI)=>{
                let label = document.createElement('label');
                label.classList.add("ans");

                let radio = document.createElement('input');
                radio.type = "radio";
                radio.disabled = "true";
                label.append(radio);
                label.append(document.createTextNode(answer["choice_text"]));

                if(answer["isRight"]){
                    trueChoice = ansI+1;
                    label.classList.add("right-answer");
                }
                else if(choosedChoice == ansI+1){
                    label.classList.add("wrong-answer");
                }
                if(choosedChoice == ansI+1){
                    radio.setAttribute("checked", "true");
                }
                choicesPar.append(label)
            })


            // ############################ add to Question sideBar and Increase number of Questions
            let questionSide = document.createElement("div");
            questionSide.textContent = `س${i+1}`
            questionSide.classList.add("quistion");
            if(choosedChoice == trueChoice){
                questionSide.classList.add("right");
                trueAnswed.textContent = Number(trueAnswed.textContent)+1
            }else{
                questionSide.classList.add("worng");
            }
            allQuesCount.textContent = Number(allQuesCount.textContent)+1
            allQues.textContent = Number(allQues.textContent)+1
            queSideBar.append(questionSide);
        })

        runAfter()
    }


    // ##########################################################################################################
    // ################################################ this function you'll run after getting JSON from backend
    // #########################################################################################################
    loopQuestionAnswersPushHTML()
    // #########################################################################################################
    // #########################################################################################################
    // #########################################################################################################



    // Burger icon click => Quiz
    let burge = document.querySelector(".quizs .burgerIcon i");
    burge.addEventListener("click", ()=>{
        document.querySelector(".allAns").classList.toggle("none");
    })


    function runAfter(){
        // Adding Max Question Nums
        let quesNum = document.querySelectorAll(".quistion");
        document.querySelector(".maxera").textContent = quesNum.length;

        let quesWindows = document.querySelectorAll(".questionHolder");

        quesNum[0].classList.add("activeQ");
        quesWindows[0].classList.remove("hide");
        point.textContent = tempJSONrequest[0]["degree"];

        // Variables 
        let queue = document.querySelector(".queue");
        let maxera = document.querySelector(".maxera");
        let nexta = document.querySelector(".next");
        let preva = document.querySelector(".prev");

        // Rename Questions and add listner & update queue
        quesNum.forEach((ele,i)=>{
            ele.addEventListener("click",(e)=>{
                document.querySelector(".activeQ").classList.remove("activeQ");
                document.querySelector(".questionHolder:not(.hide)").classList.add("hide");

                ele.classList.add("activeQ");
                quesWindows[i].classList.remove("hide");

                point.textContent = tempJSONrequest[i]["degree"];

                queue.textContent = i+1;
                if(i+1 == +maxera.textContent){
                    nexta.setAttribute("disabled","true");
                    preva.removeAttribute("disabled");
                }else if(i+1 == 1){
                    nexta.removeAttribute("disabled");
                    preva.setAttribute("disabled","true");
                }else{
                    nexta.removeAttribute("disabled");
                    preva.removeAttribute("disabled");
                }
            })
        })


        // Next & Previous Buttons => Quiz
        function dodis(elem, val){
            if(val == false){
                elem.setAttribute("disabled","true")
            }else{
                elem.removeAttribute("disabled")
            }
        }
        function addremo(){
            quesNum.forEach((ele,i)=>{
                ele.classList.remove("activeQ");
            })
            quesNum[+queue.textContent -1].classList.add("activeQ")
        }

        nexta.addEventListener("click",(ele)=>{
            ele.preventDefault()
            if(+queue.textContent < +maxera.textContent){
                queue.textContent = `${+queue.textContent + 1}`;
                dodis(preva, true);
                let activeWind = document.querySelector(".questionHolder:not(.hide)");
                activeWind.classList.add('hide');
                activeWind.nextElementSibling.classList.remove('hide');
            }else{
                dodis(nexta, false);
                dodis(preva, true);
            }
            if(+queue.textContent == +maxera.textContent){
                dodis(nexta, false);
                dodis(preva, true);
            }
            addremo()
        });

        preva.addEventListener("click",(ele)=>{
            ele.preventDefault()
            if(+queue.textContent > 1){
                queue.textContent = `${+queue.textContent - 1}`
                dodis(nexta, true);
                let activeWind = document.querySelector(".questionHolder:not(.hide)");
                activeWind.classList.add('hide');
                activeWind.previousElementSibling.classList.remove('hide');
            }else{
                dodis(nexta, true);
                dodis(preva, false);
            }
            if(+queue.textContent == 1){
                dodis(nexta, true);
                dodis(preva, false);
            }
            addremo()
        });
    }
</script>